<!DOCTYPE html>
<html>

<head>
  <title>FishingIsFun</title>
  <link rel="stylesheet" href="options.css">
  <meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
<!-- Link to bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

  <script type="text/javascript">
    var jsalarm = {
      padfield: function (f) {
        return (f < 10) ? "0" + f : f
      },
      showcurrenttime: function () {
        var dateobj = new Date()
        var ct = this.padfield(dateobj.getHours()) + ":" + this.padfield(dateobj.getMinutes()) + ":" + this.padfield(dateobj.getSeconds())
        this.ctref.innerHTML = ct
        this.ctref.setAttribute("title", ct)
        if (typeof this.hourwake != "undefined") { //if alarm is set
          if (this.ctref.title == (this.hourwake + ":" + this.minutewake + ":" + this.secondwake)) {
            clearInterval(jsalarm.timer)
            window.location = document.getElementById("musicloc").value
          }
        }
      },
      init: function () {
        var dateobj = new Date()
        this.ctref = document.getElementById("jsalarm_ct")
        this.submitref = document.getElementById("submitbutton")
        this.submitref.onclick = function () {
          jsalarm.setalarm()
          this.value = "Alarm Set"
          this.disabled = true
          return false
        }
        this.resetref = document.getElementById("resetbutton")
        this.resetref.onclick = function () {
          jsalarm.submitref.disabled = false
          jsalarm.hourwake = undefined
          jsalarm.hourselect.disabled = false
          jsalarm.minuteselect.disabled = false
          jsalarm.secondselect.disabled = false
          return false
        }
        var selections = document.getElementsByTagName("select")
        this.hourselect = selections[0]
        this.minuteselect = selections[1]
        this.secondselect = selections[2]
        for (var i = 0; i < 60; i++) {
          if (i < 24) //If still within range of hours field: 0-23
            this.hourselect[i] = new Option(this.padfield(i), this.padfield(i), false, dateobj.getHours() == i)
          this.minuteselect[i] = new Option(this.padfield(i), this.padfield(i), false, dateobj.getMinutes() == i)
          this.secondselect[i] = new Option(this.padfield(i), this.padfield(i), false, dateobj.getSeconds() == i)

        }
        jsalarm.showcurrenttime()
        jsalarm.timer = setInterval(function () { jsalarm.showcurrenttime() }, 1000)
      },
      setalarm: function () {
        this.hourwake = this.hourselect.options[this.hourselect.selectedIndex].value
        this.minutewake = this.minuteselect.options[this.minuteselect.selectedIndex].value
        this.secondwake = this.secondselect.options[this.secondselect.selectedIndex].value
        this.hourselect.disabled = true
        this.minuteselect.disabled = true
        this.secondselect.disabled = true
      }
    }
  </script>
</head>
<body>
  <h1>Settings</h1>
  <div class="section">
      <h2>Block Sites</h2>
      <textarea id="textarea" rows="10" cols="30" spellcheck="false"></textarea>
      <br>
      <button id="save">Save</button>
      <strong>Enabled?</strong><input id="checkbox" type="checkbox">
  </div>
  <div class="section">
    <div id="myDIV" class="header">
      <h2>My To Do List</h2>
      <input type="text" id="myInput" placeholder="Title...">
      <span id="newElement" class="addBtn">Add</span>
    </div>
    <ul id="myUL">
      <li>Example task</li>
    </ul>
  </div>
</body>

<script src = "options.js"></script>
</html>